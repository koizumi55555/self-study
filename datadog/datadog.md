# Datadog
## 公式HP
- https://www.datadoghq.com/

## 概要
- モニタリング&分析SaaSである。  
- DatadogはAgentを監視したいサービスやアプリケーションなどに組み込み、
Agentが収集(もしくはAgentに送信された)情報を、Datadogへ送信することで可視化された情報を確認することができる。


## 主な機能

- クラウドサービスやアプリケーション、サーバの状態などのモニタリング  
- 400以上のクラウドサービス、ミドルウェアなどに対応  
- リクエストや処理分類ごとの実行時間などが容易に確認可能  
- ログの保管、検索が可能　　
- 利用する機能ごとにコスト（料金）がかかる

## APM - Application Performance Monitoring
- APMとはアプリケーションの処理時間を可視化したもの。  
リクエスト(処理)全体にかかった時間、その内訳としてDBアクセスにかかった時間、内部計算処理を行った時間など、詳細に確認することができる。
さらにリクエストを横断して同じ種類の処理の時間を横断的に確認することで、どの部分がボトルネックになっているかを容易に解析することができる。

- APMを利用するためには、アプリケーションでAPM用の計測処理を実装する必要があり、
そのデータの概念としてはTraceとSpanという考えがある。
  - Trace：1回の処理ににかかるアプリケーション処理の時間
  - Span：Traceの内訳である処理ごとの時間。Span同士で親子関係を組むことも可能
- サービス内のリソース（HTTPエンドポイントやDBクエリー等）ごとに処理時間やエラーを記録
- フレームグラフで処理のボトルネックを発見
- トレースのメトリクスは `trace.<name>.<metrics>`

- 対応言語: Python / Ruby / Go / Java / Node.js / .NET / PHP
  - https://docs.datadoghq.com/tracing/languages/


## その他機能
### Tag（タグ）
Datadog-Agentを利用することでAgentを経由して得た情報に対してDatadog上からもタグを付与することが可能。
全体を俯瞰しながらどこが問題があるかを特定することが可能。
- メトリクスに付帯
  - key:value 形式で1個のメトリックに複数の
タグを付与することが可能
- フィルタリング／グルーピング
  - サーバーやVM、コンテナをロール、データ
センター、ゾーンごとに分析可能に
- カスタマイズ可能
  - エージェント設定ファイル、 UI、インテグレーション
等々、自身でタグの付与が可能

## モニタリングする際のポイント
- ワークメトリクス
  - サービスを提供するためにフロントに出るメトリクス
（スループット / 成功 / 失敗 / パフォーマンス）
- リソースメトリクス 
  - システム・サービスのバックエンドのメトリクス
（使用率 / 飽和度 / エラー / 可用性）

- イベント
  - システムの変更といった重要な通知
（変更 / アラート / スケーリング

- APM (Application Performance Monitoring)
  - アプリケーションのパフォーマンスやエラーを監視

- ログ
  - アプリケーションやシステムの挙動を詳細に記録

- 外形監視 (Synthetics) 
  - サービスを外側から監視してユーザー体験を測定
